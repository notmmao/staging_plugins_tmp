/*! WooCommerce Name Your Price 2.0.8 2014-10-15 20:37 */
jQuery(document).ready(function(a){function b(a,b){return"undefined"==typeof b&&(b=""),accounting.formatMoney(a,b,woocommerce_nyp_params.currency_format_num_decimals,woocommerce_nyp_params.currency_format_thousand_sep,woocommerce_nyp_params.currency_format_decimal_sep)}function c(a){return parseFloat(accounting.unformat(a,woocommerce_nyp_params.currency_format_decimal_sep))}a.fn.woocommerce_nyp_update=function(){if(a(this).on("woocommerce-nyp-update",function(){var d=a(this),e=d.find(".nyp"),f=d.find(".nyp-input"),g=(d.find(":submit"),f.val()),h=d.find(".woocommerce-nyp-message");h.length||e.prepend('<div class="woocommerce-nyp-message woocommerce-error" style="display:none"></div>');var i=woocommerce_nyp_params.minimum_error,j=!1,k=c(g),l=parseFloat(e.data("min-price")),m=parseFloat(e.data("annual-minimum")),n=d.find(".nyp-period"),o=n.val();m>0?(form_annulualized_price=k*woocommerce_nyp_params.annual_price_factors[o],m>form_annulualized_price&&(i=i+" / "+n.find('option[value="'+o+'"]').text(),j=m/woocommerce_nyp_params.annual_price_factors[o])):l>k&&(j=l),f.focus().val(b(k)),j?(e.data("submit",!1),i=i.replace("%s",b(j,woocommerce_nyp_params.currency_symbol)),h.html(i).show()):(e.data("submit",!0),h.fadeOut("slow"),a(this).find("#product-addons-total").data("price",k),d.trigger("woocommerce-product-addons-update"),e.data("price",k),d.trigger("woocommerce-nyp-updated-item"),a("body").trigger("woocommerce-nyp-updated"))}),a(this).on("change",".nyp-input, .nyp-period",function(){var b=a(this).closest(".cart");b.trigger("woocommerce-nyp-update")}),a(this).closest("form").on("submit",function(){a(this).find(".nyp").data("submit")===!1&&(event.preventDefault(),a(this).find(":submit").removeAttr("disabled"))}),a(this).find("input.nyp-input").trigger("change"),a(this).hasClass("variations_form")){var d=a(this),e=a(this).find("button.single_add_to_cart_button"),f=a(this).find(".nyp"),g=f.find(".nyp-input"),h=f.find(".minimum-price"),i=f.find(".subscription-details"),j=e.html(),k=woocommerce_nyp_params.add_to_cart_text;f.hide(),h.hide(),d.on("found_variation",function(c,d){e.html(k),void 0!=typeof d.is_nyp&&1==d.is_nyp?(posted_price=d.posted_price?d.posted_price:0,minimum_price=d.minimum_price?d.minimum_price:0,minimum_price_html=d.minimum_price_html?d.minimum_price_html:0,subscription_terms=d.subscription_terms?d.subscription_terms:"",g.val(b(posted_price)).eq(0).focus(),i.length&&i.html(subscription_terms),minimum_price_html?h.html(minimum_price_html).show():h.hide(),f.data("min-price",minimum_price).slideDown("200"),a(this).find("#product-addons-total").data("price",minimum_price),a(this).trigger("woocommerce-product-addons-update")):(e.html(j),f.slideUp("200"))}).on("reset_image",function(){e.html(j),f.slideUp("200")}).on("click",".reset_variations",function(){e.html(j),f.slideUp("200")}),a(this).find(".variations select").trigger("change")}},a("body").on("quick-view-displayed",function(){a("body").find(".cart").each(function(){a(this).woocommerce_nyp_update()})}),a("body .component").on("wc-composite-component-loaded",function(){a(this).find(".cart").each(function(){a(this).woocommerce_nyp_update()})}),a("body").find(".cart").each(function(){a(this).woocommerce_nyp_update()})});